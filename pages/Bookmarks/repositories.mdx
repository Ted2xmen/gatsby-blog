import { useSSG } from 'nextra/ssg'
import React from 'react'
import BookmarkCard from '../../components/bookmarkCard'

export const getStaticProps = async({ params }) => {
const dataUrl = "https://api.github.com/users/ted2xmen/starred"
 
  return await fetch(dataUrl)
    .then(res => res.json())
    .then(star => ({
      props: {
        // We add an `ssg` field to the page props,
        // which will be provided to the Nextra `useSSG` hook.
        ssg: {
          star: star
        }
      },
      // The page will be considered as stale and regenerated every 60 seconds.
      revalidate: 60
    }))
}
 
export const Repositiories = () => {
  const { star } = useSSG()

  return <div>
  <h1>Starred Repo's </h1>
        {star?.map((item, i) => {
            return (
           <BookmarkCard data={null} repo={item} />
            );
          })}
  </div>
}

export default Repositiories

